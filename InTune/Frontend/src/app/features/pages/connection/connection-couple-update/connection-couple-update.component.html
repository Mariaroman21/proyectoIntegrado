<form [formGroup]="form()" (ngSubmit)="onSubmit()"
      class="max-w-xl mx-auto p-8 bg-gradient-to-br from-pink-50 to-pink-100 rounded-3xl shadow-lg flex flex-col gap-8 border border-pink-300 font-serif text-pink-700">

  <label for="start_date" class="text-2xl font-semibold italic mb-2 tracking-wide">💖 Fecha de inicio</label>
  <input id="start_date" formControlName="start_date" type="date"
         class="w-full border border-pink-300 rounded-2xl px-5 py-3 text-pink-700 placeholder-pink-400
                focus:outline-none focus:ring-4 focus:ring-pink-300 focus:border-pink-500 transition shadow-sm" />

  <div formArrayName="plans" class="flex flex-col gap-6">
    <div *ngFor="let planCtrl of plans.controls; let i = index" [formGroupName]="i"
         class="flex flex-col md:flex-row md:items-center gap-4 bg-pink-200 bg-opacity-50 rounded-3xl p-5 shadow-md relative">

      <input formControlName="plan" placeholder="Descripción del plan"
             class="flex-1 border border-pink-300 rounded-2xl px-4 py-3 text-pink-700 placeholder-pink-400
                    focus:outline-none focus:ring-4 focus:ring-pink-400 focus:border-pink-600 transition shadow-sm" />

      <input formControlName="photo" placeholder="URL de la foto"
             class="flex-1 border border-pink-300 rounded-2xl px-4 py-3 text-pink-700 placeholder-pink-400
                    focus:outline-none focus:ring-4 focus:ring-pink-400 focus:border-pink-600 transition shadow-sm" />

      <button type="button" (click)="removePlan(i)"
              class="absolute top-3 right-3 bg-pink-500 hover:bg-pink-600 text-white px-3 py-1 rounded-full font-semibold shadow-lg transition
                     flex items-center justify-center text-lg leading-none"
              aria-label="Eliminar plan">
        &times;
      </button>
    </div>
  </div>

  <button type="button" (click)="addPlan()"
          class="self-start bg-pink-400 hover:bg-pink-500 text-white px-8 py-3 rounded-full font-semibold shadow-md
                 transition tracking-wider text-lg">+ Añadir Plan
  </button>
  <button type="submit" [disabled]="form().invalid"
          class="self-end bg-pink-600 hover:bg-pink-700 disabled:bg-pink-300 disabled:cursor-not-allowed text-white px-10 py-3 rounded-full
                 font-extrabold tracking-widest shadow-xl transition text-lg">
    Guardar ❤️
  </button>
</form>
<a routerLink="/home"
   class="inline-block text-pink-600 font-semibold px-4 py-2 rounded-lg border border-pink-600
          hover:bg-pink-600 hover:text-white transition
          shadow-sm hover:shadow-md">← Volver al Home</a>
<ng-template #loading>
  <p class="text-center italic text-pink-400 mt-8 font-serif tracking-wide">✨ Cargando detalles de la pareja… ✨</p>
</ng-template>
